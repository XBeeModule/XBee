#pragma once
//--------------------------------------------------------------------------------------------------------------------------------------
#include <Arduino.h>
//--------------------------------------------------------------------------------------------------------------------------------------
#define NO_TEMPERATURE_DATA -128
//--------------------------------------------------------------------------------------------------------------------------------------
typedef struct
{
  int8_t Value;
  uint8_t Fract;
  
} DS18B20Temperature;
//--------------------------------------------------------------------------------------------------------------------------------------
typedef enum
{
  temp9bit = 0x1F,
  temp10bit = 0x3F,
  temp11bit = 0x5F,
  temp12bit = 0x7F
  
} DS18B20Resolution;
//--------------------------------------------------------------------------------------------------------------------------------------
typedef enum
{
  DS18B20_SENSOR,
  DS18S20_SENSOR
} DSSensorType; // тип сенсора
//--------------------------------------------------------------------------------------------------------------------------------------
class DS18B20
{
  private:

  uint8_t pin;

  public:
    DS18B20() : pin(0) {};

    void begin(uint8_t _pin);
    bool readTemperature(DS18B20Temperature& result, DSSensorType type);
    void setResolution(DS18B20Resolution res); 
    
};
//--------------------------------------------------------------------------------------------------------------------------------------
